<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>ç®€è®°â€”â€”Tensorflowè¿›é˜¶çŸ¥è¯†ä¸Š â€“ ç¿°æ—æœ¨å­çš„ç¬”è®°æœ¬</title>
<meta name="description" content="å‰è¨€ æœ€è¿‘åœ¨å­¦ä¹ é¾™é¾™è€å¸ˆçš„ã€ŠTensorflowæ·±åº¦å­¦ä¹ ã€‹è¿™æœ¬ä¹¦ï¼Œä»å»å¹´10æœˆåˆ°ç°åœ¨8æœˆï¼Œå¿«ä¸€å¹´çš„æ—¥å­éƒ½æ²¡æ€ä¹ˆç³»ç»Ÿçš„å­¦ä¹ è¿‡TFï¼Œè¶ç€ç°åœ¨TF2å‡ºæ¥äº†ï¼Œæˆ‘ä¾¿æ‰“ç®—ç³»ç»Ÿçš„å­¦ä¸€å­¦TF2ã€‚ ä¸‹é¢çš„ä¸œè¥¿æ˜¯æˆ‘è®°çš„ä¸€äº›ç¬”è®°ï¼Œå¤§æ¦‚æ˜¯ â€¦">
<meta name="keywords" content="Tensorflow">
<meta name="robots" content="max-image-preview:large">
<link rel="dns-prefetch" href="//cdn.staticfile.org">
<link rel="dns-prefetch" href="//cdn.jsdelivr.net">
<link rel="dns-prefetch" href="//zz.bdstatic.com">
<link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
<link rel="stylesheet" id="wp-block-library-css" href="/wp-includes/css/dist/block-library/style.min.css?ver=5.7.2" type="text/css" media="all">
<style id="md-style-inline-css" type="text/css">.copy-button { cursor: pointer; border: 0; font-size: 12px; text-transform: uppercase; font-weight: 500; padding: 3px 6px 3px 6px; background-color: rgba(255, 255, 255, 0.6); position: absolute; overflow: hidden; top: 5px; right: 5px; border-radius: 3px; } .copy-button:before { content: ""; display: inline-block; width: 16px; height: 16px; margin-right: 3px; background-size: contain; background-image: url("data:image/svg+xml,%3Csvg version=\'1.1\' xmlns=\'http://www.w3.org/2000/svg\' xmlns:xlink=\'http://www.w3.org/1999/xlink\' x=\'0px\' y=\'0px\' width=\'16px\' height=\'16px\' viewBox=\'888 888 16 16\' enable-background=\'new 888 888 16 16\' xml:space=\'preserve\'%3E %3Cpath fill=\'%23333333\' d=\'M903.143,891.429c0.238,0,0.44,0.083,0.607,0.25c0.167,0.167,0.25,0.369,0.25,0.607v10.857 c0,0.238-0.083,0.44-0.25,0.607s-0.369,0.25-0.607,0.25h-8.571c-0.238,0-0.44-0.083-0.607-0.25s-0.25-0.369-0.25-0.607v-2.571 h-4.857c-0.238,0-0.44-0.083-0.607-0.25s-0.25-0.369-0.25-0.607v-6c0-0.238,0.06-0.5,0.179-0.786s0.262-0.512,0.428-0.679 l3.643-3.643c0.167-0.167,0.393-0.309,0.679-0.428s0.547-0.179,0.786-0.179h3.714c0.238,0,0.44,0.083,0.607,0.25 c0.166,0.167,0.25,0.369,0.25,0.607v2.929c0.404-0.238,0.785-0.357,1.143-0.357H903.143z M898.286,893.331l-2.67,2.669h2.67V893.331 z M892.571,889.902l-2.669,2.669h2.669V889.902z M894.321,895.679l2.821-2.822v-3.714h-3.428v3.714c0,0.238-0.083,0.441-0.25,0.607 s-0.369,0.25-0.607,0.25h-3.714v5.714h4.571v-2.286c0-0.238,0.06-0.5,0.179-0.786C894.012,896.071,894.155,895.845,894.321,895.679z M902.857,902.857v-10.286h-3.429v3.714c0,0.238-0.083,0.441-0.25,0.607c-0.167,0.167-0.369,0.25-0.607,0.25h-3.714v5.715H902.857z\' /%3E %3C/svg%3E"); background-repeat: no-repeat; position: relative; top: 3px; } pre { position: relative; } pre:hover .copy-button { background-color: rgba(255, 255, 255, 0.9); }</style>
<link rel="stylesheet" id="fancybox-css" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css?ver=5.7.2" type="text/css" media="all">
<link rel="stylesheet" id="style-css" href="/wp-content/themes/sweet/static/css/sweet.css?ver=5.7.2" type="text/css" media="all">
<link rel="stylesheet" id="prism-css-0-css" href="https://cdn.jsdelivr.net/npm/prismjs@1.15.0/themes/prism.css?ver=1.15.0" type="text/css" media="all">
<link rel="stylesheet" id="prism-css-1-css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/plugins/line-numbers/prism-line-numbers.css?ver=1.15.0" type="text/css" media="all">
<link rel="stylesheet" id="emojify-css" href="https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/css/basic/emojify.min.css?ver=1.1.0" type="text/css" media="all">
<script type="text/javascript" src="/wp-includes/js/jquery/jquery.min.js?ver=3.5.1" id="jquery-core-js"></script>
<script type="text/javascript" src="/wp-includes/js/jquery/jquery-migrate.min.js?ver=3.3.2" id="jquery-migrate-js"></script>
<script type="text/javascript" src="/wp-content/themes/sweet/static/js/sweet.js?ver=5.7.2" id="sweet-js"></script>
<script type="text/javascript" src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js?ver=5.7.2" id="fancybox-js"></script>

<link href="/wp-content/uploads/2021/07/1617196601-favicon-32x32-1.png" rel="shortcut icon" type="image/x-icon">
<link href="/wp-content/uploads/2021/07/1617196599-apple-touch-icon.png" rel="apple-touch-icon">
<script type="text/javascript">

</script>
<style type="text/css"></style>
	
	</head>

<body class="post-template-default single single-post postid-81 single-format-standard">


<div class="navbar w-nav">
	<div class="container w-container">
				<a class="logo-block w-inline-block" href="/">
			<img class="logo" src="/wp-content/uploads/2021/07/1617196599-apple-touch-icon.png">
		</a>
				<nav class="nav-menu w-nav-menu">
			<li id="menu-item-97" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-97"><a href="https://ytlee.cn/">é¦–é¡µ</a></li>
<li id="menu-item-99" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-99"><a href="/category/note/">ç¬”è®°æœ¬</a></li>
<li id="menu-item-100" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-100"><a href="/category/draft/">è‰ç¨¿æœ¬</a></li>
<li id="menu-item-103" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-103"><a href="/about-me/">å…³äºæˆ‘</a></li>
					</nav>
		<div class="menu-button w-nav-button">
			<div class="w-icon-nav-menu right">
			</div>
		</div>
		<div class="rightNav">
			<li class="menu-item menu-item-type-custom menu-item-object-custom menu-item-97"><a href="https://ytlee.cn/">é¦–é¡µ</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-99"><a href="/category/note/">ç¬”è®°æœ¬</a></li>
<li class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-100"><a href="/category/draft/">è‰ç¨¿æœ¬</a></li>
<li class="menu-item menu-item-type-post_type menu-item-object-page menu-item-103"><a href="/about-me/">å…³äºæˆ‘</a></li>
		</div>
	</div>
</div>
<div class="bgDiv"></div>

<div class="blog-header">
	<div class="blog-header-overlay"></div>
	<div class="header-image-block" style="background-image: url('/wp-content/uploads/2021/07/1617196065-a3.jpeg');"></div>
</div>
<div class="blog-post-section section">
	<div class="blog-post-container container w-container">
		<div class="white-content-block">
			<div class="blog-post-image-block" style="background-image: url('/wp-content/uploads/2021/07/1617196088-b8.jpeg');">
				<a href="/category/note/" rel="category tag">ç¬”è®°æœ¬</a>				<div class="blog-post-header">
					<div class="blog-header-title-wrapper">
						<div class="blog-post-date">2020-08-19</div>
						<h1 class="blog-post-title">ç®€è®°â€”â€”Tensorflowè¿›é˜¶çŸ¥è¯†ä¸Š</h1>
					</div>
				</div>
			</div>
			<div class="align-left white-content-block-content-wrapper">
				<div class="rich-text-block w-richtext">
					<h2>
<a name="toc-1"></a>å‰è¨€</h2>
<p>æœ€è¿‘åœ¨å­¦ä¹ é¾™é¾™è€å¸ˆçš„ã€ŠTensorflowæ·±åº¦å­¦ä¹ ã€‹è¿™æœ¬ä¹¦ï¼Œä»å»å¹´10æœˆåˆ°ç°åœ¨8æœˆï¼Œå¿«ä¸€å¹´çš„æ—¥å­éƒ½æ²¡æ€ä¹ˆç³»ç»Ÿçš„å­¦ä¹ è¿‡TFï¼Œè¶ç€ç°åœ¨TF2å‡ºæ¥äº†ï¼Œæˆ‘ä¾¿æ‰“ç®—ç³»ç»Ÿçš„å­¦ä¸€å­¦TF2ã€‚</p>
<p>ä¸‹é¢çš„ä¸œè¥¿æ˜¯æˆ‘è®°çš„ä¸€äº›ç¬”è®°ï¼Œå¤§æ¦‚æ˜¯ã€ŠTensorflowæ·±åº¦å­¦ä¹ ã€‹è¿™æœ¬ä¹¦çš„ç¬¬äº”ç« çš„ç›¸å…³çš„å†…å®¹ï¼Œä¸»è¦æ˜¯è‡ªå·±è¾¹çœ‹è¾¹ç†è§£åçš„ä¸€äº›ç®€è¦è®°å½•ã€‚å½“ç„¶æœ‰äº›å†…å®¹æ˜¯ç›´æ¥å¤åˆ¶çš„åŸä¹¦çš„éƒ¨åˆ†å†…å®¹ï¼Œç”±äºæ˜¯ç›´æ¥ä»PDFä¸Šå¤åˆ¶ï¼Œéš¾å…ä¼šé‡åˆ°æ ¼å¼é”™è¯¯ï¼Œè¯·è§è°…ï¼</p>
<h2>
<a name="toc-2"></a>åˆå¹¶&åˆ†å‰²</h2>
<h3>
<a name="toc-3"></a>åˆå¹¶</h3>
<h4>
<a name="toc-4"></a>æ‹¼æ¥</h4>
<p><strong>å½“éœ€è¦åœ¨æŸä¸€axisä¸Šæ‹¼æ¥å¼ é‡æ—¶</strong>ï¼Œå¯ä½¿ç”¨tf.concat(tensors,axis)å®Œæˆæ“ä½œã€‚</p>
<p><strong>éœ€è¦æ³¨æ„çš„æ˜¯</strong>ï¼Œå¾…æ‹¼æ¥å¼ é‡é—´éœ€ä¿è¯é™¤æ‹¼æ¥è½´ä»¥å¤–çš„ç»´åº¦å¤§å°ä¸€æ ·ã€‚</p>
<h5>ç¤ºä¾‹ä»£ç </h5>
<ul>
<li>æ­£ç¡®ç¤ºä¾‹</li>
</ul>
<pre><code class="language-python">a = tf.random.normal([4,35,8]) # æ¨¡æ‹Ÿæˆç»©å†Œ A 
b = tf.random.normal([6,35,8]) # æ¨¡æ‹Ÿæˆç»©å†Œ B 
tf.concat([a,b],axis=0) # æ‹¼æ¥åˆå¹¶æˆç»©å†Œ 
Out[1]:
<tf.Tensor: id=13, shape=(10, 35, 8), dtype=float32, numpy= array([[[ 1.95299834e-01,
1.29430830e+00, [ 4.29753691e-01, 2.56610274e-01, -1.27798581e+00], 9.11329567e-01, -4.47975427e-01, ...,</code></pre>
<ul>
<li>é”™è¯¯ç¤ºä¾‹</li>
</ul>
<pre><code class="language-python">In [3]: 
a = tf.random.normal([4,32,8]) 
b = tf.random.normal([6,35,8]) 
tf.concat([a,b],axis=0) #éæ³•æ‹¼æ¥ï¼Œå…¶ä»–ç»´åº¦é•¿åº¦ä¸ç›¸åŒ 
Out[3]:
InvalidArgumentError: ConcatOp : Dimensions of inputs should match: shape[0] = [4,32,8] vs. shape[1] = [6,35,8] [Op:ConcatV2] name: concat</code></pre>
<h4>
<a name="toc-5"></a>å †å </h4>
<p>æ‹¼æ¥ä¸ä¼šäº§ç”Ÿæ–°çš„ç»´åº¦ï¼Œæ˜¯åœ¨ç°æœ‰ç»´åº¦ä¸Šè¿›è¡Œæ•°æ®åˆå¹¶ã€‚å½“åœ¨æ•°æ®åˆå¹¶æ—¶äº§ç”Ÿæ–°çš„ç»´åº¦ï¼Œéœ€è¦ä½¿ç”¨tf.stack(tensors,axis)æ“ä½œã€‚</p>
<ul>
<li>å½“axis>=0,è¡¨ç¤ºåœ¨axiså‰æ’å…¥æ–°çš„ç»´åº¦ï¼›å½“axis<0,è¡¨ç¤ºåœ¨axisåæ’å…¥æ–°çš„ç»´åº¦ã€‚</li>
<li>åŒæ ·çš„ï¼Œå¾…æ‹¼æ¥å¼ é‡é—´éœ€ä¿è¯é™¤æ‹¼æ¥è½´ä»¥å¤–çš„ç»´åº¦å¤§å°ä¸€æ ·ã€‚</li>
</ul>
<h5>ç¤ºä¾‹ä»£ç </h5>
<ul>
<li>æ­£ç¡®ç¤ºä¾‹</li>
</ul>
<pre><code class="language-python">In [4]: 
a = tf.random.normal([35,8]) 
b = tf.random.normal([35,8]) 
tf.stack([a,b],axis=0) # å †å åˆå¹¶ä¸º 2 ä¸ªç­çº§ï¼Œç­çº§ç»´åº¦æ’å…¥åœ¨æœ€å‰ 
Out[4]:
<tf.Tensor: id=55, shape=(2, 35, 8), dtype=float32, numpy= array([[[ 3.68728966e-01, -8.54765773e-01, -4.77824420e-01, -3.83714020e-01, -1.73216307e+00,
2.03872994e-02, 2.63810277e+00, -1.12998331e+00],â€¦</code></pre>
<ul>
<li>é”™è¯¯ç¤ºä¾‹</li>
</ul>
<pre><code class="language-python">In [7]: 
a = tf.random.normal([35,4]) 
b = tf.random.normal([35,8]) 
tf.stack([a,b],axis=-1) # éæ³•å †å æ“ä½œï¼Œå¼ é‡ shape ä¸ç›¸åŒ 
Out[7]:
InvalidArgumentError: Shapes of all inputs must match: values[0].shape = [35,4] != values[1].shape = [35,8] [Op:Pack] name: stack</code></pre>
<h3>
<a name="toc-6"></a>åˆ†å‰²</h3>
<p>åˆ†å‰²å°±æ˜¯åˆå¹¶çš„é€†æ“ä½œï¼Œå°†ä¸€ä¸ªå¼ é‡æ‹†åˆ†æˆå¤šä»½ã€‚</p>
<p>ä½¿ç”¨tf.split(x,num_or_size_splits,axis)å®Œæˆæ“ä½œ</p>
<ul>
<li>x å‚æ•°ï¼šå¾…åˆ†å‰²å¼ é‡ã€‚</li>
<li>num_or_size_splits å‚æ•°ï¼šåˆ‡å‰²æ–¹æ¡ˆã€‚å½“ num_or_size_splits ä¸ºå•ä¸ªæ•°å€¼æ—¶ï¼Œå¦‚ 10ï¼Œè¡¨ ç¤ºç­‰é•¿åˆ‡å‰²ä¸º 10 ä»½ï¼›å½“ num_or_size_splits ä¸º List æ—¶ï¼ŒList çš„æ¯ä¸ªå…ƒç´ è¡¨ç¤ºæ¯ä»½çš„é•¿ åº¦ï¼Œå¦‚[2,4,2,2]è¡¨ç¤ºåˆ‡å‰²ä¸º 4 ä»½ï¼Œæ¯ä»½çš„é•¿åº¦ä¾æ¬¡æ˜¯ 2ã€4ã€2ã€2ã€‚</li>
<li>axis å‚æ•°ï¼šæŒ‡å®šåˆ†å‰²çš„ç»´åº¦ç´¢å¼•å·ã€‚</li>
<li>
<strong>æ³¨æ„</strong>ï¼šåˆ‡å‰²åçš„å¼ é‡ä»ä¿ç•™è¢«åˆ‡å‰²ç»´åº¦ï¼Œåªæ˜¯ç»´åº¦å¤§å°å˜å°äº†</li>
</ul>
<h5>ç¤ºä¾‹ä»£ç </h5>
<ul>
<li>ç­‰é•¿åˆ‡å‰²</li>
</ul>
<pre><code class="language-python">In [8]: x = tf.random.normal([10,35,8]) # ç­‰é•¿åˆ‡å‰²ä¸º 10 ä»½ 
result = tf.split(x, num_or_size_splits=10, axis=0) 
len(result) # è¿”å›çš„åˆ—è¡¨ä¸º 10 ä¸ªå¼ é‡çš„åˆ—è¡¨
Out[8]: 10
In [9]: result[0] # æŸ¥çœ‹ç¬¬ä¸€ä¸ªç­çº§çš„æˆç»©å†Œå¼ é‡ 
Out[9]: <tf.Tensor: id=136, shape=(1, 35, 8), dtype=float32, numpy= array([[[-1.7786729 , 0.2970506 ,
0.02983334, 1.3970423 , 1.315918 , -0.79110134, -0.8501629 , -1.5549672 ],
[ 0.5398711 , 0.21478991, -0.08685189, 0.7730989 ,â€¦</code></pre>
<ul>
<li>éç­‰é•¿åˆ‡å‰²</li>
</ul>
<pre><code class="language-python">In [10]: 
x = tf.random.normal([10,35,8]) # è‡ªå®šä¹‰é•¿åº¦çš„åˆ‡å‰²ï¼Œåˆ‡å‰²ä¸º 4 ä»½ï¼Œè¿”å› 4 ä¸ªå¼ é‡çš„åˆ—è¡¨ result 
result = tf.split(x, num_or_size_splits=[4,2,2,2] ,axis=0) 
len(result)
Out[10]: 4
In [10]: result[0] 
Out[10]: <tf.Tensor: id=155, shape=(4, 35, 8), dtype=float32, numpy= array([[[-6.95693314e-01,
3.01393479e-01, 1.33964568e-01, ...,</code></pre>
<h2>
<a name="toc-7"></a>æ•°æ®ç»Ÿè®¡</h2>
<h3>
<a name="toc-8"></a>ä¸‰ç§èŒƒæ•°</h3>
<ul>
<li>L1 èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ ç»å¯¹å€¼ä¹‹å’Œ â€–ğ’™â€–1 =âˆ‘|ğ‘¥ğ‘–| </li>
<li>L2 èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ çš„å¹³æ–¹å’Œï¼Œå†å¼€æ ¹å· â€–ğ’™â€–2 = âˆšâˆ‘|ğ‘¥ğ‘–|2</li>
<li>âˆâˆ’èŒƒæ•°ï¼Œå®šä¹‰ä¸ºå‘é‡ğ’™çš„æ‰€æœ‰å…ƒç´ ç»å¯¹å€¼çš„æœ€å¤§å€¼ï¼š â€–ğ’™â€–âˆ = ğ‘šğ‘ğ‘¥ğ‘–(|ğ‘¥ğ‘–|)</li>
</ul>
<p><strong>å¯ä»¥é€šè¿‡ tf.norm(x, ord)æ±‚è§£å¼ é‡çš„ L1ã€L2ã€âˆç­‰èŒƒæ•°</strong>ï¼Œå…¶ä¸­å‚æ•° ord æŒ‡å®šä¸º 1ã€2 æ—¶è®¡ç®— L1ã€L2 èŒƒæ•°ï¼ŒæŒ‡å®šä¸º np.infæ—¶è®¡ç®—âˆâˆ’èŒƒæ•°</p>
<h5>ç¤ºä¾‹ä»£ç </h5>
<pre><code class="language-python">In [13]: x = tf.ones([2,2]) tf.norm(x,ord=1) # è®¡ç®— L1 èŒƒæ•° 
Out[13]: <tf.Tensor: id=183, shape=(), dtype=float32, numpy=4.0> 
In [14]: tf.norm(x,ord=2) # è®¡ç®— L2 èŒƒæ•° 
Out[14]: <tf.Tensor: id=189, shape=(), dtype=float32, numpy=2.0> 
In [15]: import numpy as np 
tf.norm(x,ord=np.inf) # è®¡ç®—âˆèŒƒæ•°
Out[15]: <tf.Tensor: id=194, shape=(), dtype=float32, numpy=1.0></code></pre>
<h3>
<a name="toc-9"></a>æœ€å€¼ã€å‡å€¼ã€å’Œ</h3>
<p><strong>æ±‚è§£æŸç»´åº¦ä¸Šçš„æœ€å¤§ã€æœ€å°ã€å‡å€¼ã€å’Œçš„æ“ä½œå¦‚ä¸‹ï¼š</strong></p>
<ul>
<li>æœ€å¤§ï¼štf.reduce_max</li>
<li>æœ€å°ï¼štf.reduce_min</li>
<li>å‡å€¼ï¼štf.reduce_mean</li>
<li>å’Œï¼štf.reduce_sum</li>
</ul>
<p><strong>åœ¨æ±‚è§£è¯¯å·®å‡½æ•°æ—¶ï¼Œé€šè¿‡TensorFlowçš„MSE è¯¯å·®å‡½æ•°å¯ä»¥æ±‚å¾—æ¯ä¸ªæ ·æœ¬çš„è¯¯å·®ï¼Œ</strong>éœ€è¦è®¡ç®—æ ·æœ¬çš„å¹³å‡è¯¯å·®ï¼Œæ­¤æ—¶å¯ä»¥é€šè¿‡ tf.reduce_mean åœ¨æ ·æœ¬æ•°ç»´åº¦ä¸Šè®¡ç®—å‡å€¼ï¼Œå®ç°å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">In [20]: out = tf.random.normal([4,10]) # æ¨¡æ‹Ÿç½‘ç»œé¢„æµ‹è¾“å‡º 
y = tf.constant([1,2,2,0]) # æ¨¡æ‹ŸçœŸå®æ ‡ç­¾ 
y = tf.one_hot(y,depth=10) # one-hot ç¼–ç  
loss = keras.losses.mse(y,out) # è®¡ç®—æ¯ä¸ªæ ·æœ¬çš„è¯¯å·® 
loss = tf.reduce_mean(loss) # å¹³å‡è¯¯å·®ï¼Œåœ¨æ ·æœ¬æ•°ç»´åº¦ä¸Šå–å‡å€¼ 
loss # è¯¯å·®æ ‡é‡ 
Out[20]:
<tf.Tensor: id=241, shape=(), dtype=float32, numpy=1.1921183></code></pre>
<h4>
<a name="toc-10"></a>æœ€å€¼åº”ç”¨ç¤ºä¾‹â€”â€”åˆ†ç±»é—®é¢˜</h4>
<p>åœ¨åˆ†ç±»é—®é¢˜çš„æ ‡ç­¾é¢„æµ‹ä¸­ï¼Œæˆ‘ä»¬é€šå¸¸éœ€è¦è·å¾—æœ€å€¼æ‰€åœ¨çš„ä½ç½®ç´¢å¼•å·ï¼Œä¸€èˆ¬æŠŠè¿™ä¸ªä½ç½®ç´¢å¼•å·ä½œä¸ºé¢„æµ‹ç±»åˆ«ã€‚ä¾‹å¦‚åœ¨10åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œæˆ‘ä»¬å¾—åˆ°ç¥ç»ç½‘ç»œçš„è¾“å‡ºå¼ é‡ outï¼Œshape ä¸º[2,10]ï¼Œä»£è¡¨äº†2ä¸ªæ ·æœ¬å±äº10ä¸ªç±»åˆ«çš„æ¦‚ç‡ï¼Œç”±äºå…ƒç´ çš„ä½ç½®ç´¢å¼•ä»£è¡¨äº†å½“å‰æ ·æœ¬å±äºæ­¤ç±»åˆ«çš„æ¦‚ç‡ï¼Œé¢„æµ‹æ—¶å¾€å¾€ä¼šé€‰æ‹©æ¦‚ç‡å€¼æœ€å¤§çš„å…ƒç´ æ‰€åœ¨çš„ç´¢å¼•å·ä½œä¸ºæ ·æœ¬ç±»åˆ«çš„é¢„æµ‹å€¼ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-python">In [22]:out = tf.random.normal([2,10]) 
out = tf.nn.softmax(out, axis=1) # é€šè¿‡ softmax å‡½æ•°è½¬æ¢ä¸ºæ¦‚ç‡å€¼ 
out
Out[22]:<tf.Tensor: id=257, shape=(2, 10), dtype=float32, numpy= array([[0.18773547, 0.1510464 , 0.09431915, 0.13652141, 0.06579739, 0.02033597, 0.06067333, 0.0666793 , 0.14594753, 0.07094406], [0.5092072 , 0.03887136, 0.0390687 , 0.01911005, 0.03850609, 0.03442522, 0.08060656, 0.10171875, 0.08244187, 0.05604421]],
dtype=float32)></code></pre>
<p>ä»¥ç¬¬ä¸€ä¸ªæ ·æœ¬ä¸ºä¾‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œå®ƒæ¦‚ç‡æœ€å¤§çš„ç´¢å¼•ä¸ºğ‘– = 0ï¼Œæœ€å¤§æ¦‚ç‡å€¼ä¸º 0.1877ã€‚ç”±äºæ¯ ä¸ªç´¢å¼•å·ä¸Šçš„æ¦‚ç‡å€¼ä»£è¡¨äº†æ ·æœ¬å±äºæ­¤ç´¢å¼•å·çš„ç±»åˆ«çš„æ¦‚ç‡ï¼Œå› æ­¤ç¬¬ä¸€ä¸ªæ ·æœ¬å±äº 0 ç±»çš„ æ¦‚ç‡æœ€å¤§ï¼Œåœ¨é¢„æµ‹æ—¶è€ƒè™‘ç¬¬ä¸€ä¸ªæ ·æœ¬åº”è¯¥æœ€æœ‰å¯èƒ½å±äºç±»åˆ« 0ã€‚è¿™å°±æ˜¯éœ€è¦æ±‚è§£æœ€å¤§å€¼çš„ ç´¢å¼•å·çš„ä¸€ä¸ªå…¸å‹åº”ç”¨ã€‚ <strong>é€šè¿‡ tf.argmax(x, axis)å’Œ tf.argmin(x, axis)å¯ä»¥æ±‚è§£åœ¨ axis è½´ä¸Šï¼Œx çš„æœ€å¤§å€¼ã€æœ€å°å€¼æ‰€åœ¨çš„ç´¢å¼•å·</strong>ï¼Œä¾‹å¦‚ï¼š</p>
<pre><code class="language-python">In [23]:pred = tf.argmax(out, axis=1) # é€‰å–æ¦‚ç‡æœ€å¤§çš„ä½ç½® 
pred
Out[23]:<tf.Tensor: id=262, shape=(2,), dtype=int64, numpy=array([0, 0],
dtype=int64)></code></pre>
<h2>
<a name="toc-11"></a>å¼ é‡æ¯”è¾ƒ</h2>
<p><strong>å½“æˆ‘ä»¬åœ¨åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œé€šå¸¸éœ€è¦æ¯”è¾ƒç¥ç»ç½‘ç»œçš„é¢„æµ‹å€¼ä¸å®é™…æ ‡ç­¾ï¼Œç„¶åç»Ÿè®¡é¢„æµ‹å€¼ä¸å®é™…æ ‡ç­¾çš„æ­£ç¡®æ•°é‡æ¥è®¡ç®—å‡†ç¡®ç‡ã€‚</strong></p>
<p>æœ‰å¦‚ä¸‹ç¤ºä¾‹ï¼Œæœ‰100ä¸ªæ ·æœ¬ï¼Œä¸‹é¢å°†æ¨¡æ‹Ÿå¦‚ä¸Šæ‰€è¿°è¿‡ç¨‹ï¼š</p>
<pre><code class="language-python">import tensorflow as tf

out = tf.random.normal([100, 10])  # ç”Ÿæˆ100ä¸ªé¢„æµ‹å€¼æ¨¡æ‹Ÿç¥ç»ç½‘ç»œçš„è¾“å‡º
out = tf.nn.softmax(out, axis=1)  # å°†è¾“å‡ºè½¬æ¢æˆæ¦‚ç‡
pred = tf.argmax(out, axis=1)  # è®¡ç®—é¢„æµ‹å€¼

y = tf.random.uniform([100], dtype=tf.int64, maxval=10)  # æ¨¡æ‹ŸçœŸå®æ ‡ç­¾
out = tf.equal(pred, y)  # æ¯”è¾ƒé¢„æµ‹å€¼ä¸å®é™…æ ‡ç­¾ï¼Œè¿”å›å¸ƒå°”ç±»å‹å¼ é‡
out = tf.cast(out, dtype=tf.float32)  # å°†å¸ƒå°”è½¬æˆæ•°å€¼
correct = tf.reduce_sum(out)  # ç»Ÿè®¡æ­£ç¡®çš„ä¸ªæ•°
print(correct)
accuracy = correct / y.shape[0]  # è®¡ç®—å‡†ç¡®ç‡
print(accuracy)

# Outï¼š
tf.Tensor(11.0, shape=(), dtype=float32)
tf.Tensor(0.11, shape=(), dtype=float32)</code></pre>
<h4>
<a name="toc-12"></a>å¸¸ç”¨æ¯”è¾ƒå‡½æ•°</h4>
<ul>
<li>
<strong>a=b:</strong> tf.equal(a,b)</li>
<li>
<strong>a>b:</strong> tf.math.greater()</li>
<li>
<strong>ğ‘ < ğ‘</strong>:  tf.math.less</li>
<li>
<strong>ğ‘ â‰¥ ğ‘:</strong> tf.math.greater_equal</li>
<li>
<strong>ğ‘ â‰¤ ğ‘</strong>: tf.math.less_equal</li>
<li>
<strong>ğ‘ â‰  ğ‘:</strong> tf.math.not_equal</li>
<li>
<strong>ğ‘ = nan:</strong> tf.math.is_nan</li>
</ul>
<h2>
<a name="toc-13"></a>å¡«å……ä¸å¤åˆ¶</h2>
<h3>
<a name="toc-14"></a>å¡«å……</h3>
<ul>
<li>tf.pad(x,paddings)</li>
<li>å‚æ•°paddings: æ˜¯åŒ…å«äº†å¤šä¸ª[Left Padding, Right Padding]çš„åµŒå¥—æ–¹æ¡ˆ Listï¼Œå¦‚[[0,0], [2,1], [1,2]]è¡¨ç¤ºç¬¬ä¸€ä¸ªç»´åº¦ä¸å¡«å……ï¼Œç¬¬äºŒä¸ªç»´åº¦å·¦è¾¹(èµ·å§‹å¤„)å¡«å……ä¸¤ä¸ªå•å…ƒï¼Œå³è¾¹(ç»“æŸå¤„)å¡«å……ä¸€ä¸ªå•å…ƒï¼Œç¬¬ä¸‰ä¸ªç»´åº¦å·¦è¾¹å¡«å……ä¸€ä¸ªå•å…ƒï¼Œå³è¾¹å¡«å……ä¸¤ä¸ªå•å…ƒã€‚</li>
</ul>
<p><strong>ä¸ºä¿è¯è¾“å…¥ç¥ç»ç½‘ç»œçš„æ•°æ®æ¯ä¸€ä¸ªæ ·æœ¬éƒ½æ˜¯ä¸€æ ·çš„å½¢çŠ¶ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦å¯¹æ•°æ®åœ¨æ•°æ®å¼€å§‹å’Œç»“æŸå¤„å¡«å……è¶³å¤Ÿçš„æ— æ„ä¹‰æ•°å€¼ï¼Œå¦‚0ã€‚</strong></p>
<h4>
<a name="toc-15"></a>å¡«å……ç¤ºä¾‹â€”â€”è¯å‘é‡çš„å¡«å……</h4>
<p>æ¯”å¦‚å°†æ¯ä¸ªå•è¯æ˜ å°„æˆè¯å‘é‡åï¼Œå› ä¸ºæ¯å¥è¯çš„é•¿çŸ­å¯èƒ½ä¸ä¸€æ ·ï¼Œè¿™æ—¶å°±éœ€è¦ä½¿ç”¨åˆ°è¯¥å‡½æ•°æ¥å®Œæˆæ“ä½œã€‚å¦‚ç¤ºä¾‹ï¼š</p>
<pre><code class="language-python">In [28]:
a = tf.constant([1,2,3,4,5,6]) # ç¬¬ä¸€ä¸ªå¥å­ 
b = tf.constant([7,8,1,6]) # ç¬¬äºŒä¸ªå¥å­ 
b = tf.pad(b, [[0,2]]) # å¥å­æœ«å°¾å¡«å…… 2 ä¸ª 0 
b # å¡«å……åçš„ç»“æœ 
Out[28]:<tf.Tensor: id=3, shape=(6,), dtype=int32, numpy=array([7, 8, 1, 6,
0, 0])></code></pre>
<p>å¦‚ä¸Šï¼Œå°†bå¡«å……åï¼Œaã€bçš„å½¢çŠ¶å°±æ˜¯ä¸€æ ·çš„äº†ã€‚ç„¶åå°±å¯ä»¥æŠŠè¿™ä¸¤ä¸ªå¥å­å †å åœ¨ä¸€èµ·ï¼Œå¦‚ï¼š</p>
<pre><code class="language-python">In [29]:tf.stack([a,b],axis=0) # å †å åˆå¹¶ï¼Œåˆ›å»ºå¥å­æ•°ç»´åº¦ 
Out[29]:<tf.Tensor: id=5, shape=(2, 6), dtype=int32, numpy= array([[1, 2, 3, 4, 5, 6],
[7, 8, 1, 6, 0, 0]])></code></pre>
<h4>
<a name="toc-16"></a>å¡«å……ç¤ºä¾‹â€”â€”å›¾ç‰‡çš„å¡«å……</h4>
<p>åœ¨minstæ•°æ®é›†ä¸­ï¼Œå‡è®¾æœ‰å›¾ç‰‡çš„å¤§å°æ˜¯28*28ï¼Œå¦‚ä¸‹ï¼š</p>
<p><img src="C:%5CUsers%5Cwrtan%5CDocuments%5CGridea%5Cpost-images%5Cimage-20200829231301840.png" alt="image-20200829231301840"></p>
<p>ä½†æ˜¯æˆ‘ä»¬ç¥ç»ç½‘ç»œçš„è¾“å…¥æ˜¯32*32ï¼Œæ­¤æ—¶å°±å¯ä»¥å¯¹å›¾ç‰‡è¿›è¡Œä¸Šä¸‹å·¦å³å„å¡«å……2ä¸ªå•å…ƒã€‚å¦‚ä¸‹ï¼š</p>
<p><img src="C:%5CUsers%5Cwrtan%5CDocuments%5CGridea%5Cpost-images%5Cimage-20200829231417546.png" alt="image-20200829231417546"></p>
<p>æ­¤å¡«å……æ–¹æ¡ˆä¸º[[0,0], [2,2], [2,2], [0,0]],æœ‰å¦‚ä¸‹ç¤ºä¾‹ä»£ç ï¼š</p>
<pre><code class="language-python">In [31]: 
x = tf.random.normal([4,28,28,1]) # å›¾ç‰‡ä¸Šä¸‹ã€å·¦å³å„å¡«å…… 2 ä¸ªå•å…ƒ 
tf.pad(x,[[0,0],[2,2],[2,2],[0,0]]) 
Out[31]:
<tf.Tensor: id=16, shape=(4, 32, 32, 1), dtype=float32, numpy= array([[[[ 0.
], [ 0. [ 0. ], ],â€¦</code></pre>
<h3>
<a name="toc-17"></a>å¤åˆ¶</h3>
<ul>
<li>tf.tile(x,multiples)</li>
<li>è¯¥å‡½æ•°å¯ä»¥åœ¨ä»»æ„ç»´åº¦å°†æ•°æ®é‡å¤å¤åˆ¶å¤šä»½ï¼Œå³å°†shapeä¸Šæ¯ç»´çš„æ•°æ®éƒ½ä¹˜ä»¥multiplesä¸Šå¯¹åº”çš„å¤§å°ã€‚</li>
</ul>
<p>ä¾‹å¦‚ï¼Œshape ä¸º[4,32,32,3]çš„æ•°æ®ï¼Œ å¤åˆ¶æ–¹æ¡ˆä¸ºmultiples=[2,3,3,1]ï¼Œå³é€šé“æ•°æ®ä¸å¤åˆ¶ï¼Œé«˜å’Œå®½æ–¹å‘åˆ†åˆ«å¤åˆ¶ 2 ä»½ï¼Œå›¾ç‰‡æ•°å† å¤åˆ¶ 1 ä»½ã€‚ç¤ºä¾‹å¦‚ä¸‹ï¼š</p>
<pre><code class="language-python">In [32]:
x = tf.random.normal([4,32,32,3]) 
tf.tile(x,[2,3,3,1]) # æ•°æ®å¤åˆ¶ 
Out[32]:<tf.Tensor: id=25, shape=(8, 96, 96, 3), dtype=float32, numpy=...</code></pre>
<h2>
<a name="toc-18"></a>æ•°æ®é™å¹…</h2>
<ul>
<li>
<strong>ä¸Šé™ï¼š</strong>tf.minimum(x, a)ï¼Œå³x âˆˆ (âˆ’âˆ, ğ‘]</li>
<li>
<strong>ä¸‹é™ï¼š</strong>tf.maximum(x, a)ï¼Œå³ğ‘¥ âˆˆ [ğ‘, +âˆ)</li>
<li>
<strong>ä¸Šä¸‹é™ï¼š</strong>tf.clip_by_value(x, [a,b])ï¼Œå³ğ‘¥ âˆˆ [ğ‘, ğ‘]ï¼Œä¹Ÿå¯é€šè¿‡ä¸Šé™å’Œä¸‹é™çš„ç»„åˆå®ç°</li>
</ul>
<h5>ç¤ºä¾‹ä»£ç </h5>
<ul>
<li>ä¸‹é™</li>
</ul>
<pre><code class="language-python">tf.maximum(x,2) # ä¸‹é™å¹…åˆ° 2</code></pre>
<ul>
<li>ä¸Šé™</li>
</ul>
<pre><code class="language-python">tf.minimum(x,7) # ä¸Šé™å¹…åˆ° 7</code></pre>
<ul>
<li>åŸºäºä¸‹é™å‡½æ•°å®ç°ReLU</li>
</ul>
<pre><code class="language-python">def relu(x): # ReLU å‡½æ•° 
    return tf.maximum(x,0.) # ä¸‹é™ä¸º0</code></pre>
<ul>
<li>ä¸Šä¸‹é™</li>
</ul>
<pre><code class="language-python"># æ³•1
tf.minimum(tf.maximum(x,2),7) # é™å¹…ä¸º 2~7

# æ³•2
tf.clip_by_value(x,2,7) # é™å¹…ä¸º 2~7</code></pre>
									</div>
				<div class="blog-author-block w-clearfix">
					<div class="blog-author-image" style="background-image: url('https://cdn.v2ex.com/gravatar/90418ca09c90fa30b5fceaf7bae4ac31?s=200&d=mm&r=g');"></div>
					<div class="blog-author-title name">tangger</div>
					<div class="blog-author-title">
						æˆ‘è¿˜æ²¡æœ‰å­¦ä¼šå†™ä¸ªäººè¯´æ˜ï¼					</div>
					<a href="/author/tangger/" style="font-size: 14px">æŸ¥çœ‹â€œtanggerâ€çš„æ‰€æœ‰æ–‡ç«  â†’</a>
				</div>
			</div>
		</div>
		
<div id="comments" class="comments-area">

		
	
	
		<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="/2020/08/study-notes-on-tensorflow-part1/#respond" style="display:none;">Cancel reply</a></small>
</h3>
<form action="/wp-comments-post.php" method="post" id="commentform" class="comment-form">
<p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> Required fields are marked <span class="required">*</span></p>
<p class="comment-form-comment"><label for="comment">Comment</label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required"></textarea></p>
<p class="comment-form-author"><label for="author">Name <span class="required">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="text" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="81" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p>
</form>	</div>

	
</div>	</div>
</div>


<div class="light-tint section">
	<div class="container w-container">
		<div class="section-title-wrapper">
			<h2 class="section-title">ç›¸å…³æ¨è</h2>
		</div>
		<div class="blog-list-wrapper w-dyn-list">
			<div class="blog-posts-list w-clearfix w-dyn-items w-row">
				
				
				<div class="blog-post-item w-col w-col-4 w-dyn-item">
					<a class="blog-post-image-link-block small w-inline-block" title="è®°å½•â€”â€”Docker+Tensorflow2åˆä½“éªŒ" href="/2020/10/try-to-learn-tensorflow2-on-docker/" style="background-image: url('/wp-content/uploads/2021/07/stock-photo-194105743.jpg.pagespeed.ce_.LN1mYM3lob.jpg');">
						<div class="blog-author-wrapper small w-clearfix">
														<div class="blog-date small">2020-10-01</div>
						</div>
					</a>
					<a class="blog-title-link" title="è®°å½•â€”â€”Docker+Tensorflow2åˆä½“éªŒ" href="/2020/10/try-to-learn-tensorflow2-on-docker/">è®°å½•â€”â€”Docker+Tensorflow2åˆä½“éªŒ</a>
				</div>

				
				<div class="blog-post-item w-col w-col-4 w-dyn-item">
					<a class="blog-post-image-link-block small w-inline-block" title="ç®€è®°â€”â€”å…¨è¿æ¥å±‚ä¸ç¥ç»ç½‘ç»œçš„ä¸¤ç§å®ç°æ–¹å¼" href="/2020/08/two-realization-methods-of-fully-connected-layer-and-neural-network/" style="background-image: url('/wp-content/uploads/2021/07/1586232236-thumb-49.jpg.pagespeed.ce_.-lchhOVXBD.jpg');">
						<div class="blog-author-wrapper small w-clearfix">
														<div class="blog-date small">2020-08-23</div>
						</div>
					</a>
					<a class="blog-title-link" title="ç®€è®°â€”â€”å…¨è¿æ¥å±‚ä¸ç¥ç»ç½‘ç»œçš„ä¸¤ç§å®ç°æ–¹å¼" href="/2020/08/two-realization-methods-of-fully-connected-layer-and-neural-network/">ç®€è®°â€”â€”å…¨è¿æ¥å±‚ä¸ç¥ç»ç½‘ç»œçš„ä¸¤ç§å®ç°æ–¹å¼</a>
				</div>

				
				<div class="blog-post-item w-col w-col-4 w-dyn-item">
					<a class="blog-post-image-link-block small w-inline-block" title="ç®€è®°â€”â€”Tensorflow2è¿›é˜¶çŸ¥è¯†ä¸‹" href="/2020/08/study-notes-on-tensorflow-part2/" style="background-image: url('/wp-content/uploads/2021/07/1617196070-a6.jpeg');">
						<div class="blog-author-wrapper small w-clearfix">
														<div class="blog-date small">2020-08-21</div>
						</div>
					</a>
					<a class="blog-title-link" title="ç®€è®°â€”â€”Tensorflow2è¿›é˜¶çŸ¥è¯†ä¸‹" href="/2020/08/study-notes-on-tensorflow-part2/">ç®€è®°â€”â€”Tensorflow2è¿›é˜¶çŸ¥è¯†ä¸‹</a>
				</div>

								
			</div>
		</div>
	</div>
</div>
<div class="footer">
	<div class="container w-container">
		<div class="footer-text">
			Copyright2021. All Rights Reserved.Â 			
						
			
				Â <a rel="nofollow" target="_blank" href="https://beian.miit.gov.cn/">æ¸ICPå¤‡19011860å·-2</a>

					</div>
		
		<div class="_2 footer-text">
			Powered by
			<a href="http://www.xintheme.com/" target="_blank">XinTheme</a> + 
			<a href="https://blog.wpjam.com/" target="_blank">WordPress æœé…±</a>
		</div>
		<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/prismjs@1.15.0/components/prism-core.min.js?ver=1.15.0" id="prism-js-0-js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/prismjs@1.15.0/prism.min.js?ver=1.15.0" id="prism-js-1-js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/prismjs@1.15.0/plugins/line-numbers/prism-line-numbers.min.js?ver=1.15.0" id="prism-js-2-js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/prismjs@1.15.0/plugins/autoloader/prism-autoloader.min.js?ver=1.15.0" id="prism-js-3-js"></script>
<script type="text/javascript" src="/wp-includes/js/clipboard.min.js?ver=5.7.2" id="clipboard-js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/js/emojify.min.js?ver=1.1.0" id="emojify-js"></script>
<script type="text/javascript" src="https://zz.bdstatic.com/linksubmit/push.js?ver=5.7.2" id="baidu_zz_push-js"></script>
 <script id="auto_loader_config_scripts"> Prism.plugins.autoloader.languages_path = "https://cdn.jsdelivr.net/npm/prismjs@1.15.0/components/"; </script>  <script id="module-prism-line-number"> (function($) { $(function() { $("code").each(function() { var parent_div = $(this).parent("pre"); var pre_css = $(this).attr("class"); if (typeof pre_css !== "undefined" && -1 !== pre_css.indexOf("language-")) { parent_div.addClass("line-numbers"); } }); }); })(jQuery); </script>  <script id="module-clipboard"> (function($) { $(function() { var pre = document.getElementsByTagName("pre"); var pasteContent = document.getElementById("paste-content"); var hasLanguage = false; for (var i = 0; i < pre.length; i++) { var codeClass = pre[i].children[0].className; var isLanguage = codeClass.indexOf("language-"); var excludedCodeClassNames = [ "language-katex", "language-seq", "language-sequence", "language-flow", "language-flowchart", "language-mermaid", ]; var isExcluded = excludedCodeClassNames.indexOf(codeClass); if (isExcluded !== -1) { isLanguage = -1; } if (isLanguage !== -1) { var button = document.createElement("button"); button.className = "copy-button"; button.textContent = "Copy"; pre[i].appendChild(button); hasLanguage = true; } }; if (hasLanguage) { var copyCode = new ClipboardJS(".copy-button", { target: function(trigger) { return trigger.previousElementSibling; } }); copyCode.on("success", function(event) { event.clearSelection(); event.trigger.textContent = "Copied"; window.setTimeout(function() { event.trigger.textContent = "Copy"; }, 2000); }); } }); })(jQuery); </script> 
			<script id="module-emojify">
				(function($) {
					$(function() {
						if (typeof emojify !== "undefined") {
							emojify.setConfig({
								img_dir: "https://cdn.jsdelivr.net/npm/emojify.js@1.1.0/dist/images/basic",
								blacklist: {
									"classes": ["no-emojify"],
									"elements": ["script", "textarea", "pre", "code"]
								}
							});
							emojify.run();
						} else {
							console.log("[wp-githuber-md] emogify is undefined.");
						}
					});
				})(jQuery);
			</script>
			</div>
</div>
<div class="gotop-wrapper">
	<a href="javascript:;" class="fixed-gotop gotop"></a>
</div>
</body>
</html>
